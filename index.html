<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Lease & Pricing Calculators</title>
  <style>
    /* Base styling */
    body {
      font-family: Arial, sans-serif;
      background: #f9f9f9;
      margin: 0;
      padding: 20px;
      color: #333;
    }
    .container {
      max-width: 900px;
      margin: 20px auto;
      background: #fff;
      padding: 30px;
      border-radius: 10px;
      box-shadow: 0 2px 10px rgba(0,0,0,0.1);
    }
    /* Center header and text */
    h1, .subtitle, .explanation {
      text-align: center;
    }
    h1 {
      margin-top: 0;
      font-size: 2em;
    }
    .subtitle {
      font-size: 1em;
      margin: 10px 0;
      color: #333;
    }
    .explanation {
      font-size: 0.9em;
      color: #666;
      margin-bottom: 20px;
      line-height: 1.4;
    }
    /* Stats header for each calculator */
    .stats-display {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 20px;
      border-top: 1px solid #ddd;
      border-bottom: 1px solid #ddd;
      padding: 10px 0;
    }
    .stat-item {
      flex: 1;
      text-align: center;
    }
    .stat-title {
      display: block;
      font-size: 0.9em;
      color: #555;
      margin-bottom: 5px;
    }
    .stat-value {
      font-size: 1.8em;
      font-weight: bold;
      color: #007bff;
    }
    /* Hardware Lease Table styling */
    table.hardware-table {
      width: 100%;
      border-collapse: collapse;
      margin-bottom: 20px;
    }
    table.hardware-table th,
    table.hardware-table td {
      border: 1px solid #ddd;
      padding: 8px;
    }
    table.hardware-table th {
      background-color: #f2f2f2;
      text-align: left;
    }
    .description-row {
      display: none;
      background-color: #f9f9f9;
    }
    .toggle-arrow {
      cursor: pointer;
      margin-left: 5px;
      font-size: 0.9em;
    }
    /* Button styling */
    .calc-button {
      display: block;
      margin: 20px auto;
      padding: 10px 20px;
      background-color: #007bff;
      color: #fff;
      border: none;
      border-radius: 4px;
      cursor: pointer;
      font-size: 1em;
    }
    .calc-button:hover {
      background-color: #0056b3;
    }
    /* Disclaimer text styling */
    .disclaimer {
      text-align: center;
      font-size: 0.8em;
      color: #888;
      margin-top: 10px;
    }
    /* Slider styling (Software Fee Calculator remains unchanged) */
    .slider-wrapper {
      position: relative;
      margin: 40px 0 60px 0; /* extra space after slider */
    }
    input[type="range"] {
      -webkit-appearance: none;
      width: 100%;
      height: 12px;
      background: #ddd;
      border-radius: 6px;
      outline: none;
    }
    input[type="range"]::-webkit-slider-thumb {
      -webkit-appearance: none;
      width: 24px;
      height: 24px;
      border-radius: 50%;
      background: #007bff;
      cursor: pointer;
      border: none;
      margin-top: -6px; /* center thumb vertically */
    }
    input[type="range"]::-moz-range-thumb {
      width: 24px;
      height: 24px;
      border-radius: 50%;
      background: #007bff;
      cursor: pointer;
      border: none;
    }
    /* Slider tick marks from Software Fee Calculator */
    .slider-marks {
      position: absolute;
      width: 100%;
      pointer-events: none;
    }
    .slider-mark {
      position: absolute;
      text-align: center;
      font-size: 0.75em;
      transform: translateX(-50%);
    }
    .slider-mark.normal {
      color: #999;
      top: 20px;
    }
    .slider-mark.special {
      color: #d9534f;
      font-weight: bold;
      top: -25px;
      border-bottom: 1px solid #d9534f;
      padding-bottom: 2px;
    }
    .slider-mark.special::after {
      content: "";
      position: absolute;
      left: 50%;
      top: 100%;
      transform: translateX(-50%);
      width: 1px;
      height: 20px;
      background: #d9534f;
    }
    .slider-mark.special::before {
      content: "";
      position: absolute;
      left: 50%;
      top: calc(100% + 20px);
      transform: translateX(-50%);
      width: 6px;
      height: 6px;
      background: #d9534f;
      border-radius: 50%;
    }
  </style>
</head>
<body>
  <!-- Hardware Lease Calculator Section -->
  <div class="container" id="hardwareLeaseContainer">
    <h1>Hardware Lease Calculator</h1>
    <p class="subtitle">36 mo. Term.</p>
    
    <!-- Three-column header for Hardware Lease -->
    <div class="stats-display" id="hardwareStats">
      <div class="stat-item">
        <span class="stat-title">Total Monthly Cost</span>
        <span id="hardwareTotalCost" class="stat-value">---</span>
      </div>
      <div class="stat-item">
        <span class="stat-title">Interest</span>
        <span id="hardwareInterest" class="stat-value">---</span>
      </div>
      <div class="stat-item">
        <span class="stat-title">Down Payment Required</span>
        <span id="hardwareDown" class="stat-value">---</span>
      </div>
    </div>
    
    <!-- Hardware Lease Table -->
    <table class="hardware-table">
      <thead>
        <tr>
          <th>Products</th>
          <th>Quantity</th>
        </tr>
      </thead>
      <tbody>
        <!-- Kiosk -->
        <tr>
          <td>
            <span class="product-name">Kiosk</span>
            <span class="toggle-arrow" onclick="toggleDescription('desc-kiosk')">▼</span>
          </td>
          <td>
            <input type="number" id="qty-kiosk" min="0" value="0" style="width: 60px;" />
          </td>
        </tr>
        <tr id="desc-kiosk" class="description-row">
          <td colspan="2">
            An interactive, self-service terminal designed to captivate visitors. Featuring a high-resolution touch display, the Kiosk lets customers easily purchase credits and receive their player cards with a smooth, intuitive experience.
          </td>
        </tr>
        <!-- Reader -->
        <tr>
          <td>
            <span class="product-name">Reader</span>
            <span class="toggle-arrow" onclick="toggleDescription('desc-reader')">▼</span>
          </td>
          <td>
            <input type="number" id="qty-reader" min="0" value="0" style="width: 60px;" />
          </td>
        </tr>
        <tr id="desc-reader" class="description-row">
          <td colspan="2">
            A compact, reliable scanning device optimized for Tap 'N Play. Leveraging advanced NFC technology, the Reader quickly initiates gameplay and is ideal for arcade settings.
            <br /><em>*Required: One Reader per player station.*</em>
          </td>
        </tr>
        <!-- Enrollment Reader -->
        <tr>
          <td>
            <span class="product-name">Enrollment Reader</span>
            <span class="toggle-arrow" onclick="toggleDescription('desc-enroll')">▼</span>
          </td>
          <td>
            <input type="number" id="qty-enrollment" min="0" value="0" style="width: 60px;" />
          </td>
        </tr>
        <tr id="desc-enroll" class="description-row">
          <td colspan="2">
            Secure and efficient, this device streamlines account capture for enrollment and registration. Simply scan a player card to launch or create a new account within seconds.
            <br /><em>*Recommended: One Per POS Station.*</em>
          </td>
        </tr>
        <!-- Mobile Redemption Terminal -->
        <tr>
          <td>
            <span class="product-name">Mobile Redemption Terminal</span>
            <span class="toggle-arrow" onclick="toggleDescription('desc-mobile')">▼</span>
          </td>
          <td>
            <input type="number" id="qty-mobile" min="0" value="0" style="width: 60px;" />
          </td>
        </tr>
        <tr id="desc-mobile" class="description-row">
          <td colspan="2">
            Designed for efficiency and ease-of-use, its responsive interface accelerates the redemption process—making it perfect for players to redeem their tickets quickly.
            <br /><em>*Recommended: One Per employee working at the redemption counter.*</em>
          </td>
        </tr>
        <!-- Router w/ Cellular Failover -->
        <tr>
          <td>
            <span class="product-name">Router w/ Cellular Failover</span>
            <span class="toggle-arrow" onclick="toggleDescription('desc-router')">▼</span>
          </td>
          <td>
            <input type="number" id="qty-router" min="0" value="0" style="width: 60px;" />
          </td>
        </tr>
        <tr id="desc-router" class="description-row">
          <td colspan="2">
            Ensures uninterrupted connectivity by seamlessly switching to cellular backup if the primary network fails. With robust security and intelligent failover, it’s engineered for mission-critical environments demanding constant uptime.
          </td>
        </tr>
        <!-- Access Point -->
        <tr>
          <td>
            <span class="product-name">Access Point</span>
            <span class="toggle-arrow" onclick="toggleDescription('desc-access')">▼</span>
          </td>
          <td>
            <input type="number" id="qty-access" min="0" value="0" style="width: 60px;" />
          </td>
        </tr>
        <tr id="desc-access" class="description-row">
          <td colspan="2">
            Delivers high-speed, scalable wireless connectivity across indoor and outdoor spaces. Featuring advanced signal management and top-tier security, it ensures a stable network even in dense environments.
          </td>
        </tr>
      </tbody>
    </table>
    
    <!-- ENTER Button and Disclaimer (initially hidden) -->
    <button class="calc-button" id="hardwareEnterButton" onclick="calculateHardwareLease()">ENTER</button>
    <p class="disclaimer" id="hardwareDisclaimer" style="display: none;">
      Our lease is always offered with 0% interest at 0% Down!
    </p>
  </div>

  <!-- Software and Service Fee Calculator Section (Existing) -->
  <div class="container" id="softwareFeeContainer">
    <h1>Software and Service Fee Calculator</h1>
    <p class="subtitle">Select your estimated monthly revenue below</p>
    <p class="explanation">
      The Software and Service Fee is 5% of Revenue<br />
      • A minimum of $10/month or maximum of $20/month per active Reader will be imposed for the monthly Software and Service fee.
    </p>
    <!-- Centered Readers Input -->
    <div class="reader-input">
      <label for="numReaders">Enter Number of Readers:</label>
      <input type="number" id="numReaders" min="1" value="5" />
    </div>
    <!-- Three-Column Stats Display -->
    <div class="stats-display">
      <div class="stat-item">
        <span class="stat-title">Monthly Revenue</span>
        <span id="revenueDisplayValue" class="stat-value">$0</span>
      </div>
      <div class="stat-item">
        <span class="stat-title">Monthly Cost</span>
        <span id="monthlyCostDisplay" class="stat-value">$0</span>
      </div>
      <div class="stat-item">
        <span class="stat-title">Monthly Cost per reader</span>
        <span id="monthlyCostPerReaderDisplay" class="stat-value">$0</span>
      </div>
    </div>
    <!-- Large Slider with dynamic tick marks -->
    <div class="slider-wrapper">
      <input type="range" id="monthlyRevenue" step="100" value="0" />
      <div id="sliderMarks" class="slider-marks"></div>
    </div>
  </div>

  <script>
    // --- Hardware Lease Calculator Functions ---
    // Toggle the visibility of product descriptions.
    function toggleDescription(id) {
      var descRow = document.getElementById(id);
      if (descRow.style.display === "table-row") {
        descRow.style.display = "none";
      } else {
        descRow.style.display = "table-row";
      }
    }

    // Calculate the total monthly cost for hardware lease.
    function calculateHardwareLease() {
      // Rates per product:
      const rates = {
        kiosk: 260,
        reader: 10,
        enrollment: 10,
        mobile: 24,
        router: 42,
        access: 15
      };

      // Retrieve quantities. Ensure they are numbers (default to 0 if not provided).
      var qtyKiosk = parseInt(document.getElementById("qty-kiosk").value) || 0;
      var qtyReader = parseInt(document.getElementById("qty-reader").value) || 0;
      var qtyEnrollment = parseInt(document.getElementById("qty-enrollment").value) || 0;
      var qtyMobile = parseInt(document.getElementById("qty-mobile").value) || 0;
      var qtyRouter = parseInt(document.getElementById("qty-router").value) || 0;
      var qtyAccess = parseInt(document.getElementById("qty-access").value) || 0;
      
      // Calculate Total Monthly Cost as the sum of (rate * quantity) for each product.
      var totalCost = (rates.kiosk * qtyKiosk) +
                      (rates.reader * qtyReader) +
                      (rates.enrollment * qtyEnrollment) +
                      (rates.mobile * qtyMobile) +
                      (rates.router * qtyRouter) +
                      (rates.access * qtyAccess);
      
      // Update the stats display.
      document.getElementById("hardwareTotalCost").innerText = "$" + totalCost.toFixed(2);
      document.getElementById("hardwareInterest").innerText = "0%";
      document.getElementById("hardwareDown").innerText = "$0.00";
      
      // Reveal the disclaimer.
      document.getElementById("hardwareDisclaimer").style.display = "block";
    }

    // --- Software and Service Fee Calculator Functions (Existing) ---
    // (Reusing the existing function from the previous code.)
    function formatTick(value) {
      if (value < 1000) {
        return `$${value}`;
      } else {
        const kValue = value / 1000;
        return Number.isInteger(kValue) ? `$${kValue}k` : `$${kValue.toFixed(1)}k`;
      }
    }

    function updateCalculator() {
      // Retrieve and validate the number of readers
      let numReaders = parseInt(document.getElementById('numReaders').value);
      if (isNaN(numReaders) || numReaders < 1) {
        numReaders = 1;
        document.getElementById('numReaders').value = 1;
      }
      // Pricing parameters
      const feePercentage = 0.05;
      const minPerReader = 10;
      const maxPerReader = 20;
      // Compute revenue thresholds where fee per reader caps are reached
      let minThreshold = (minPerReader * numReaders) / feePercentage;
      let maxThreshold = (maxPerReader * numReaders) / feePercentage;
      // Determine scaling based on reader count:
      let rangeExtension = 500;
      let tickInterval = 500;
      if (numReaders < 50) {
        rangeExtension = 500;
        tickInterval = 500;
      } else if (numReaders < 100) {
        rangeExtension = 1000;
        tickInterval = 1000;
      } else {
        let extraGroups = Math.floor((numReaders - 100) / 50);
        rangeExtension = 2000 + extraGroups * 1000;
        tickInterval = 2000 + extraGroups * 1000;
      }
      // Dynamically set slider range.
      let sliderMin = minThreshold - rangeExtension;
      let sliderMax = maxThreshold + rangeExtension;
      if (sliderMin < 0) sliderMin = 0;
      const slider = document.getElementById('monthlyRevenue');
      slider.min = sliderMin;
      slider.max = sliderMax;
      // Ensure the current slider value is within bounds.
      let currentRevenue = parseFloat(slider.value);
      if (currentRevenue < sliderMin) {
        currentRevenue = sliderMin;
        slider.value = sliderMin;
      } else if (currentRevenue > sliderMax) {
        currentRevenue = sliderMax;
        slider.value = sliderMax;
      }
      // Calculate fee per reader (5% of monthly revenue divided by the number of readers, then capped).
      let feePerReader = (currentRevenue * feePercentage) / numReaders;
      if (feePerReader < minPerReader) feePerReader = minPerReader;
      if (feePerReader > maxPerReader) feePerReader = maxPerReader;
      let totalCost = feePerReader * numReaders;
      // Update the stats display.
      document.getElementById('revenueDisplayValue').innerText = `$${currentRevenue.toLocaleString()}`;
      document.getElementById('monthlyCostDisplay').innerText = `$${totalCost.toFixed(2)}`;
      document.getElementById('monthlyCostPerReaderDisplay').innerText = `$${feePerReader.toFixed(2)}`;
      // Generate slider tick marks.
      const sliderMarksContainer = document.getElementById('sliderMarks');
      sliderMarksContainer.innerHTML = "";
      const range = sliderMax - sliderMin;
      for (let value = sliderMin; value <= sliderMax; value += tickInterval) {
        let mark = document.createElement("span");
        let isSpecial = false;
        let specialLabel = "";
        if (Math.abs(value - minThreshold) < tickInterval / 2) {
          isSpecial = true;
          specialLabel = " (Minimum)";
        } else if (Math.abs(value - maxThreshold) < tickInterval / 2) {
          isSpecial = true;
          specialLabel = " (Maximum)";
        }
        if (isSpecial) {
          mark.classList.add("slider-mark", "special");
          mark.innerText = formatTick(value) + specialLabel;
        } else {
          mark.classList.add("slider-mark", "normal");
          mark.innerText = formatTick(value);
        }
        let posPercent = ((value - sliderMin) / range) * 100;
        mark.style.left = posPercent + "%";
        if (!isSpecial) {
          mark.style.top = "20px";
        }
        sliderMarksContainer.appendChild(mark);
      }
    }
    
    // Event listeners for Software Fee Calculator (if needed)
    document.getElementById('monthlyRevenue').addEventListener("input", updateCalculator);
    document.getElementById('numReaders').addEventListener("input", updateCalculator);
    
    // Initialize Software Fee Calculator on page load.
    updateCalculator();
  </script>
</body>
</html>
